window.GF2Checkout=null,function(t){GF2Checkout=function(r){var o=this;for(var e in o.form=null,r)r.hasOwnProperty(e)&&(this[e]=r[e]);o.init=function(){o.isCreditCardOnPage()&&(TCO.loadPubKey(o.apiMode),t("#gform_"+o.formId).on("submit",function(r){if(!t(this).data("gf_2checkout_submitting")&&1!=t("#gform_save_"+o.formId).val()&&o.isLastPage()){r.preventDefault(),t(this).data("gf_2checkout_submitting",!0),o.maybeAddSpinner(),o.form=t(this);var e="input_"+o.formId+"_"+o.ccFieldId+"_",n={sellerId:o.sellerId,publishableKey:o.publishableKey,ccNo:o.form.find("#"+e+"1").val(),cvv:o.form.find("#"+e+"3").val(),expMonth:o.form.find("#"+e+"2_month").val(),expYear:o.form.find("#"+e+"2_year").val()};TCO.requestToken(o.responseHandler,o.responseHandler,n)}}))},o.responseHandler=function(r){o.form.append(t('<input type="hidden" name="2checkout_response" />').val(t.toJSON(r))),o.form.submit()},o.getCurrentPageNumber=function(){var r=t("#gform_source_page_number_"+o.formId);return 0<r.length&&r.val()},o.isCreditCardOnPage=function(){var r=o.getCurrentPageNumber();return!o.ccPage||!r||this.ccPage==r},o.isLastPage=function(){var r=t("#gform_target_page_number_"+o.formId);return!(0<r.length)||0==r.val()},o.maybeAddSpinner=function(){if(!o.isAjax)if("function"!=typeof gformAddSpinner){if(0==t("#gform_ajax_spinner_"+o.formId).length){var r=gform.applyFilters("gform_spinner_url",gf_global.spinnerUrl,o.formId);gform.applyFilters("gform_spinner_target_elem",t("#gform_submit_button_"+o.formId+", #gform_wrapper_"+o.formId+" .gform_next_button, #gform_send_resume_link_button_"+o.formId),o.formId).after('<img id="gform_ajax_spinner_'+o.formId+'"  class="gform_ajax_spinner" src="'+r+'" alt="" />')}}else gformAddSpinner(o.formId)},o.init()}}(jQuery);